!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/",n(n.s=4)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));class r{constructor(){document.addEventListener("DOMContentLoaded",()=>this.onMount())}}},,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(0);class o{constructor(e,t,n){this.targets=Array.from(e.querySelectorAll("a")),this.refs=t,this.sensitivity=n||-10,window.addEventListener("scroll",()=>this.onScroll())}onScroll(){this.isOnTopOfDoc(this.refs[0])||this.deactiveateTarget(),this.refs.forEach(e=>{if(this.isOnTopOfDoc(e)){this.deactiveateTarget();const t=this.findTarget(e.id);t&&this.activate(t)}})}isOnTopOfDoc(e){return document.documentElement.scrollTop-e.offsetTop>=this.sensitivity}deactiveateTarget(){this.targets.forEach(e=>this.deactivate(e))}findTarget(e){return this.targets.filter(t=>t.dataset.targetId===e)[0]}activate(e){e.classList.add("active")}deactivate(e){e.classList.remove("active")}}n(3);class i{constructor(e){const t=document.createElement("div");t.classList.add("loading"),e.appendChild(t)}}class s{constructor(e,t){if(!e||!t)throw"el";this.el=e,this.contentEl=t,this.headingsInContent().length&&this.html()?(new i(this.el),setTimeout(()=>{this.render(this.html()),new o(this.el,this.headingsInContent())},100)):this.removeTocEl()}headingsInContent(){return Array.from(this.contentEl.querySelectorAll("h1,h2,h3,h4,h5,h6")).filter(e=>e.id)}html(){let e=0;return this.headingsInContent().map(t=>{const n=Number(t.nodeName.toUpperCase().replace("H",""));let r="";const o=t.id;var i=`<li><a href="#${o}" data-target-id="${o}">${s.htmlElementToText(t)}</a></li>`;if(e<n)r="<ul>"+i;else if(e===n)r=i;else{r=new Array(e-n).fill(1).map(()=>"</ul>").join("")+i}return e=n,r}).join("")}static htmlElementToText(e){return(e.textContent||"").replace("<","&lt;").replace(">","&gt;")}removeTocEl(){const e=this.el.parentElement;e&&(e.removeChild(this.el),e.children.length||e.parentElement&&(e.parentElement.removeChild(e),document.querySelector(".post-aside").parentElement.removeChild(document.querySelector(".post-aside"))))}render(e){this.el.innerHTML=e}}class c extends r.a{onMount(){try{this.initTOC(),this.initVideo()}catch(e){console.error(e)}}initTOC(){const e=document.querySelector("#toc"),t=document.querySelector("#post").querySelector(".post-content");new s(e,t)}initVideo(){const e=document.querySelector("#post-video");e&&e.addEventListener("click",e=>{(class{static sendEvent(e,t,n,r=1){"function"==typeof ga&&ga("send","event",e,t,n,r)}}).sendEvent("포스트/관련영상","click",decodeURIComponent(e.currentTarget.href)),e.currentTarget.href})}}new c}]);